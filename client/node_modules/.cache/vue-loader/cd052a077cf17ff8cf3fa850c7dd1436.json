{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\node-app\\client\\src\\views\\FoundList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\src\\views\\FoundList.vue","mtime":1552982280743},{"path":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\node-app\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport DialogFound from './components/DialogFound'\r\nexport default {\r\n    name:\"foundlist\",\r\n    components:{\r\n        DialogFound\r\n    },\r\n    data(){\r\n        return{\r\n            tableData: [],\r\n            allTableData:[],//根据index和size过滤的数据\r\n            filterTableData: [],//时间过滤后的数据\r\n            dialog: {\r\n                show: false,\r\n                title: \"\",\r\n                option: \"edit\"\r\n            },\r\n            form: {\r\n                type: \"\",\r\n                describe: \"\",\r\n                income: \"\",\r\n                expend: \"\",\r\n                cash: \"\",\r\n                remark: \"\",\r\n                id: \"\"\r\n            },\r\n            //分页模板\r\n            //需要给分页组件传的信息\r\n            paginations: {\r\n                page_index: 1, // 当前位于哪页\r\n                total: 0, // 总数\r\n                page_size: 5, // 1页显示多少条\r\n                page_sizes: [5, 10, 15, 20], //每页显示多少条\r\n                layout: \"total, sizes, prev, pager, next, jumper\" // 翻页属性\r\n            },\r\n            search_data:{\r\n                startTime:'',\r\n                endTime:''\r\n            },\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getlist()\r\n    },\r\n    methods:{\r\n        getlist(){\r\n            this.$axios.get('/api/profiles/').then((res)=>{\r\n                this.tableData=res.data;\r\n                this.allTableData=res.data;\r\n                this.filterTableData=res.data;\r\n                // 设置分页数据\r\n                this.setPaginations();\r\n            }).catch(err=>{\r\n                cosnole.log(err)\r\n            })\r\n        },\r\n        //添加数据\r\n        onAddMoney(){\r\n            this.dialog= {\r\n                show: true,\r\n                title: \"添加数据\",\r\n                option: \"add\"\r\n            },\r\n            this.form = {\r\n                type: \"\",\r\n                describe: \"\",\r\n                income: \"\",\r\n                expend: \"\",\r\n                cash: \"\",\r\n                remark: \"\",\r\n                id: \"\"\r\n            };\r\n\r\n        },\r\n        //修改数据\r\n        onEditMoney(row){\r\n            this.dialog= {\r\n                show: true,\r\n                title: \"修改数据\",\r\n                option: \"edit\"\r\n            },\r\n            this.form =row\r\n        },\r\n        //删除数据\r\n        onDeleteMoney(row,index){\r\n            this.$axios.delete(`/api/profiles/delete/${row._id}`).then(res=>{\r\n                console.log(res)\r\n                this.$message(\"删除成功\");\r\n                this.getlist();\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        },\r\n        //分页方法\r\n        handleSizeChange(val) {\r\n            this.paginations.page_index=1;\r\n            this.paginations.page_size=val;\r\n            this.tableData=this.allTableData.filter((item,index)=>{\r\n                return index<this.paginations.page_size\r\n            })\r\n        },\r\n        handleCurrentChange(val) {\r\n            // 当前页  每次根据点击的页标计算前几条数据不取，取完后边的数据在根据size展示出数据\r\n            let sortNum=this.paginations.page_size*(val-1)\r\n            let table=this.allTableData.filter((item,index)=>{\r\n                return index >= sortNum;\r\n            })\r\n            // 设置默认分页数据\r\n            this.tableData=table.filter((item,index)=>{\r\n                return index < this.paginations.page_size\r\n            })\r\n        },\r\n        //初始化分页数据\r\n        setPaginations(){\r\n            //总页数\r\n            this.paginations.total=this.allTableData.length;\r\n            this.paginations.page_index = 1;\r\n            this.paginations.page_size = 5;\r\n            //设置默认分页数据\r\n            this.tableData=this.allTableData.filter((item,index)=>{\r\n                return index<this.paginations.page_size\r\n            })\r\n        },\r\n        //筛选功能\r\n        onScreeoutMoney(){\r\n            if(!this.search_data.startTime||!this.search_data.endTime){\r\n                this.$message({\r\n                    type: \"warning\",\r\n                    message: \"请选择时间区间\"\r\n                })\r\n                this.getlist();\r\n                return\r\n            }\r\n            const sTime=this.search_data.startTime.getTime();\r\n            const eTime=this.search_data.endTime.getTime();\r\n            this.allTableData=this.filterTableData.filter((item,index)=>{\r\n                let date=new Date(item.date+'');\r\n                let time = date.getTime();\r\n                return time>=sTime && time<=eTime\r\n            })\r\n            this.setPaginations()\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["FoundList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FoundList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"fillcontain\">\r\n        <div>\r\n            <el-form\r\n                :inline=\"true\"\r\n                ref=\"search_data\" \r\n                :model='search_data' >\r\n                <el-form-item label=\"任务时间筛选:\">\r\n                    <el-date-picker\r\n                        v-model=\"search_data.startTime\"\r\n                        type=\"datetime\"\r\n                        placeholder=\"选择开始时间\">\r\n                    </el-date-picker> --\r\n                    <el-date-picker\r\n                        v-model=\"search_data.endTime\"\r\n                        type=\"datetime\"\r\n                        placeholder=\"选择结束时间\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" size =\"small\" icon=\"search\" @click='onScreeoutMoney()'>筛选</el-button>\r\n                </el-form-item>\r\n                    <el-form-item class=\"btnRight\">\r\n                    <el-button type=\"primary\" size =\"small\" icon=\"view\" @click='onAddMoney()'>添加</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        <div class=\"table_container\">\r\n            <el-table\r\n                v-if=\"tableData.length > 0\"\r\n                :data='tableData'\r\n                max-height=\"450\"\r\n                border\r\n                :default-sort = \"{prop: 'date', order: 'descending'}\"\r\n                style=\"width: 100%\">\r\n                 <el-table-column\r\n                    type=\"index\"\r\n                    label=\"序号\"\r\n                    align='center'\r\n                    width=\"70\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"date\"\r\n                    label=\"创建时间\"\r\n                    align='center'\r\n                    width=\"250\"\r\n                    sortable>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-icon name=\"time\"></el-icon>\r\n                        <span style=\"margin-left: 10px\">{{ scope.row.date }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"type\"\r\n                    label=\"技术类型\"\r\n                    align='center'\r\n                    width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"describe\"\r\n                    label=\"技术描述\"\r\n                    align='center'\r\n                    width=\"200\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"income\"\r\n                    label=\"主要技术栈\"\r\n                    align='center'\r\n                    width=\"200\"> \r\n                    <template slot-scope=\"scope\">  \r\n                        <span style=\"color:#00d053\">{{ scope.row.income }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"expend\"\r\n                    label=\"已完成技术栈\"\r\n                    align='center'\r\n                    width=\"170\">\r\n                    <template slot-scope=\"scope\">  \r\n                        <span style=\"color:#f56767\">{{ scope.row.expend }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"cash\"\r\n                    label=\"项目名称\"\r\n                    align='center'\r\n                    width=\"180\">\r\n                    <template slot-scope=\"scope\">  \r\n                        <span style=\"color:#4db3ff\">{{ scope.row.cash }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                 <el-table-column\r\n                    prop=\"remark\"\r\n                    label=\"备注\"\r\n                    align='center'\r\n                    width=\"280\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"operation\"\r\n                    align='center'\r\n                    label=\"操作\"\r\n                    fixed=\"right\"\r\n                    width=\"180\">\r\n                    <template slot-scope='scope'>\r\n                        <el-button \r\n                            type=\"warning\" \r\n                            icon='edit' \r\n                            size=\"small\"\r\n                            @click='onEditMoney(scope.row)'\r\n                        >编辑</el-button>\r\n                        <el-button \r\n                            type=\"danger\" \r\n                            icon='delete' \r\n                            size=\"small\"\r\n                            @click='onDeleteMoney(scope.row,scope.$index)'\r\n                        >删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!-- 分页 -->\r\n             <el-row>\r\n                <el-col :span=\"24\">\r\n                    <div class=\"pagination\">\r\n                        <el-pagination\r\n                            @size-change=\"handleSizeChange\"\r\n                            @current-change=\"handleCurrentChange\"\r\n                            :current-page=\"paginations.page_index\"\r\n                            :page-sizes=\"paginations.page_sizes\"\r\n                            :page-size=\"paginations.page_size\"\r\n                            :layout=\"paginations.layout\"\r\n                            :total=\"paginations.total\">\r\n                        </el-pagination>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <!-- 弹框页面 -->\r\n        <DialogFound :dialog=\"dialog\" :form=\"form\" @update=\"getlist\"></DialogFound>\r\n    </div>\r\n</template>\r\n<script>\r\nimport DialogFound from './components/DialogFound'\r\nexport default {\r\n    name:\"foundlist\",\r\n    components:{\r\n        DialogFound\r\n    },\r\n    data(){\r\n        return{\r\n            tableData: [],\r\n            allTableData:[],//根据index和size过滤的数据\r\n            filterTableData: [],//时间过滤后的数据\r\n            dialog: {\r\n                show: false,\r\n                title: \"\",\r\n                option: \"edit\"\r\n            },\r\n            form: {\r\n                type: \"\",\r\n                describe: \"\",\r\n                income: \"\",\r\n                expend: \"\",\r\n                cash: \"\",\r\n                remark: \"\",\r\n                id: \"\"\r\n            },\r\n            //分页模板\r\n            //需要给分页组件传的信息\r\n            paginations: {\r\n                page_index: 1, // 当前位于哪页\r\n                total: 0, // 总数\r\n                page_size: 5, // 1页显示多少条\r\n                page_sizes: [5, 10, 15, 20], //每页显示多少条\r\n                layout: \"total, sizes, prev, pager, next, jumper\" // 翻页属性\r\n            },\r\n            search_data:{\r\n                startTime:'',\r\n                endTime:''\r\n            },\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getlist()\r\n    },\r\n    methods:{\r\n        getlist(){\r\n            this.$axios.get('/api/profiles/').then((res)=>{\r\n                this.tableData=res.data;\r\n                this.allTableData=res.data;\r\n                this.filterTableData=res.data;\r\n                // 设置分页数据\r\n                this.setPaginations();\r\n            }).catch(err=>{\r\n                cosnole.log(err)\r\n            })\r\n        },\r\n        //添加数据\r\n        onAddMoney(){\r\n            this.dialog= {\r\n                show: true,\r\n                title: \"添加数据\",\r\n                option: \"add\"\r\n            },\r\n            this.form = {\r\n                type: \"\",\r\n                describe: \"\",\r\n                income: \"\",\r\n                expend: \"\",\r\n                cash: \"\",\r\n                remark: \"\",\r\n                id: \"\"\r\n            };\r\n\r\n        },\r\n        //修改数据\r\n        onEditMoney(row){\r\n            this.dialog= {\r\n                show: true,\r\n                title: \"修改数据\",\r\n                option: \"edit\"\r\n            },\r\n            this.form =row\r\n        },\r\n        //删除数据\r\n        onDeleteMoney(row,index){\r\n            this.$axios.delete(`/api/profiles/delete/${row._id}`).then(res=>{\r\n                console.log(res)\r\n                this.$message(\"删除成功\");\r\n                this.getlist();\r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })\r\n        },\r\n        //分页方法\r\n        handleSizeChange(val) {\r\n            this.paginations.page_index=1;\r\n            this.paginations.page_size=val;\r\n            this.tableData=this.allTableData.filter((item,index)=>{\r\n                return index<this.paginations.page_size\r\n            })\r\n        },\r\n        handleCurrentChange(val) {\r\n            // 当前页  每次根据点击的页标计算前几条数据不取，取完后边的数据在根据size展示出数据\r\n            let sortNum=this.paginations.page_size*(val-1)\r\n            let table=this.allTableData.filter((item,index)=>{\r\n                return index >= sortNum;\r\n            })\r\n            // 设置默认分页数据\r\n            this.tableData=table.filter((item,index)=>{\r\n                return index < this.paginations.page_size\r\n            })\r\n        },\r\n        //初始化分页数据\r\n        setPaginations(){\r\n            //总页数\r\n            this.paginations.total=this.allTableData.length;\r\n            this.paginations.page_index = 1;\r\n            this.paginations.page_size = 5;\r\n            //设置默认分页数据\r\n            this.tableData=this.allTableData.filter((item,index)=>{\r\n                return index<this.paginations.page_size\r\n            })\r\n        },\r\n        //筛选功能\r\n        onScreeoutMoney(){\r\n            if(!this.search_data.startTime||!this.search_data.endTime){\r\n                this.$message({\r\n                    type: \"warning\",\r\n                    message: \"请选择时间区间\"\r\n                })\r\n                this.getlist();\r\n                return\r\n            }\r\n            const sTime=this.search_data.startTime.getTime();\r\n            const eTime=this.search_data.endTime.getTime();\r\n            this.allTableData=this.filterTableData.filter((item,index)=>{\r\n                let date=new Date(item.date+'');\r\n                let time = date.getTime();\r\n                return time>=sTime && time<=eTime\r\n            })\r\n            this.setPaginations()\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.fillcontain {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n}\r\n.btnRight {\r\n  float: right;\r\n}\r\n.pagination {\r\n  text-align: right;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n\r\n\r\n"]}]}